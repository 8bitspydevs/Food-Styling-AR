<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Styling AR | Visualizador 3D Premium</title>

    <!-- Meta Descriptions para SEO -->
    <meta name="description"
        content="Visualizador de modelos 3D en Realidad Aumentada (AR) para practicar estilismo de alimentos (Food Styling) desde la web.">

    <!-- Google Fonts: Inter y Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">

    <!-- Estilos de la aplicación -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!-- Importar component de Google model-viewer -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
</head>

<body>

    <!-- Capa de fondo decorativa (Blur/Gradients) -->
    <div class="background-decor blur-circle-1" id="bg-circle-1"></div>
    <div class="background-decor blur-circle-2" id="bg-circle-2"></div>

    <header class="app-header glass-panel">
        <h1 class="brand-title">Food<span class="accent-text">Styling</span> AR</h1>
        <p class="brand-subtitle">Estudio Virtual de Fotografía</p>
    </header>

    <main class="viewer-container">
        <!-- El Visualizador 3D Principal (Modo Objeto) -->
        <model-viewer id="main-viewer"
            src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Avocado/glTF-Binary/Avocado.glb"
            alt="Un modelo 3D de alimento para food styling" ar ar-modes="scene-viewer webxr quick-look" ar-scale="auto"
            camera-controls auto-rotate environment-image="neutral" shadow-intensity="1.5" exposure="1">

            <button slot="ar-button" class="btn-ar-primary" id="btn-ar">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 8V6C4 4.89543 4.89543 4 6 4H8" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" />
                    <path d="M4 16V18C4 19.1046 4.89543 20 6 20H8" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" />
                    <path d="M20 8V6C20 4.89543 19.1046 4 18 4H16" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" />
                    <path d="M20 16V18C20 19.1046 19.1046 20 18 20H16" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" />
                    <path
                        d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
                Ver en tu Espacio
            </button>

            <!-- Loader -->
            <div id="loader" class="glass-panel">
                <div class="spinner"></div>
                <span>Cargando modelo...</span>
            </div>
        </model-viewer>

        <!-- Fallback de código QR si AR no está disponible o el usuario está en Desktop -->
        <div id="qr-fallback" class="glass-panel" style="display: none;">
            <h3>Escanea para AR</h3>
            <p>Abre esta página en tu celular para usar la cámara.</p>
            <img id="qr-code-img" src="" alt="QR Code">
        </div>
    </main>

    <footer class="controls-container glass-panel">
        <h2 class="section-title">Catálogo de Modelos</h2>
        <div class="carousel-container">
            <div class="models-carousel" id="models-carousel">
                <!-- Se llenará dinámicamente con JS -->
            </div>
        </div>
    </footer>

    <!-- Lógica de la aplicación -->
    <script src="assets/js/app.js"></script>
</body>

</html>